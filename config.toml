[db]
username = "root"  # 数据库用户名
password = "root"  # 数据库密码
host = "10.80.5.25"  # 数据库地址
port = "27017"  # 数据库端口
database = "facerecapi" # 数据库名称
auth_source = "admin" # 数据库认证源
limit = 5000 # 限制返回结果条数
[face]
threshold = 0.4 # 人脸识别阈值
candidate_threshold = 0.2 # 候选人脸阈值
rec_min_face_hw = 50 # （识别阶段）最小人脸高度和宽度
[gpu]
gpu_id = 0  # GPU Embedding GPU ID
[threading]
max_workers = 2  # dlib 但是实例的进程数
[frontlogin]
username = "admin"  # 前端登录用户名
password = "admin"  # 前端登录密码
[image]
max_feature_image_width_px = 9999  # 最大特征图片宽度 （以下都是为了控制像素大小）
max_feature_image_height_px = 9999  # 最大特征图片高度
min_feature_image_width_px = 80     # 最小特征图片宽度
min_feature_image_height_px = 80    # 最小特征图片高度
max_feature_image_size_m = 10 # 最大特征图片大小（MB）
max_face_hw = 999  # （提取特征阶段）最大人脸高度和宽度
min_face_hw = 50  # 最小人脸高度和宽度
[logger]
level = "INFO"  # 日志级别
log_path = "/app/logs/facere_service.log"  # 日志文件路径

[stats]
# 统计数据保留天数（自动清理超过该天数的数据）
retention_days = 7  # 保留7天的详细日志
hourly_retention_days = 30  # 保留30天的按小时聚合数据

[redis]
host = "localhost"  # Redis 服务器地址
port = 6379  # Redis 端口
password = ""  # Redis 密码（如果没有设置密码则留空）
db = 0  # Redis 数据库编号（0-15）
max_connections = 50  # 连接池最大连接数
socket_timeout = 5  # Socket 超时时间（秒）
socket_connect_timeout = 5  # Socket 连接超时时间（秒）
decode_responses = true  # 是否自动解码响应为字符串

[redis.cache]
# 缓存配置
embeddings_ttl = 0  # 人脸特征向量缓存过期时间（0表示永不过期，手动刷新）
enable_embedding_cache = true  # 是否启用特征向量缓存
refresh_on_startup = true  # 启动时是否自动加载人员信息到Redis
refresh_interval_days = 7  # 定时全量刷新间隔（天）
refresh_on_update = true  # 人员增删改时是否实时更新Redis
